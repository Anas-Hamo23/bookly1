<!DOCTYPE html>
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Complete Responsive Website Design</title>
<link rel="stylesheet" href="css/all.css">
<link rel="stylesheet" href="css/fontawesome.css">
<link rel="stylesheet" href="register.css">
<link rel="stylesheet" href="/Insert Book/header.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css    ">


</head>
<body>
  <header class="menu">
    <h1 class="logo"> <i class="fa-solid fa-book-bookmark"></i>  bookly</h1>
  <div class="ul-ser">  <ul>
        <li><a href="/home/home.html">Home</a></li>


        
    </ul>
    
    <div class="dropdown">
      <div class="dropdown-select">
      <span class="select1">
    Services
      </span>
      <i class="uil uil-angle-down"></i>
    
    </div>
    <div class="dropdown-list">
      <div class="dropdown-list-item"><a href="/Insert Book/insertbook.html">Insert Book</a> </div>
      <div class="dropdown-list-item">
        <a href="/assest/showuser.html">Search Of customer</a>
      </div>
      <div class="dropdown-list-item">
        <a href="/regiseter/regiseter.html">Insert Custoer</a>
      </div>
    </div>
    </div></div>
</header>
<div class="flexdiv">
    <section class="contact">
  <div class="container">
    <div class="title">Registration</div>
    <form action="#" id="inputForm">
        <div class="user_details">
            <div class="input-box-father">
            <div class="input_box">
                <span class="details">Full Name </span>
                    <input id="fullname" type="text" placeholder="Enter your name"required>
            </div>
            <div class="input_box">
                <span class="details">ID</span>
                    <input id="id" type="number" placeholder="Enter your name"required>
                
            </div>
            <div class="input_box">
                <span class="details">Phone Number</span>
                    <input id="phone" type="number" placeholder="Enter your PhoneNumber"require>
            </div>
        </div>
        <div class="input-box-father">
            <div class="input_box">
                <span  class="details">Email </span>
                    <input id="email" type="email" placeholder="Enter your email"required>
            </div>
            <div class="input_box">
                <span class="details">Address</span>
                    <input id="address" type="text" placeholder="Enter your address"required>
            </div>
            <div class="input_box">
                <span class="details">Job </span>
                    <input id="job" type="text" placeholder="Enter your job"required>
            </div>
        </div>
        </div>
       
    </form>
     <div class="button">
        <input id="submitBtn" type="submit"value="Register"  disabled="disabled" >
    </div>
  </div> 
  
</section></div>
<footer>
  <p> Bookly  &copy; 2022 || made with love || EPU GROUB</p>
</footer>

<script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.2/firebase-app.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyDWPErVaOrINYAC5lxtLh8sR0hSlZbDBf8",
      authDomain: "epuproj.firebaseapp.com",
      databaseURL: "https://epuproj-default-rtdb.firebaseio.com",
      projectId: "epuproj",
      storageBucket: "epuproj.appspot.com",
      messagingSenderId: "921730510207",
      appId: "1:921730510207:web:4bd9c904338dc8d609be4a"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);

    
      import {
        getDatabase,
        ref,
        set,
        child,
        update,
        remove,
      } from "https://www.gstatic.com/firebasejs/9.9.2/firebase-database.js";
      const db = getDatabase();


      var fullName=document.getElementById("fullname")
      var id=document.getElementById("id")
      var phone=document.getElementById("phone")
      var email=document.getElementById("email")
      var address=document.getElementById("address")
      var job=document.getElementById("job")
      var submitBtn=document.getElementById("submitBtn")
      var inputForm=document.getElementById("inputForm")

     
      inputForm.addEventListener('input',()=>{
    if(fullName.value.length>2 && id.value.length>2 && phone.value.length>2 && email.value.length>2 && address.value.length>2 && job.value.length>2){
submitBtn.removeAttribute("disabled");
}else{
    submitBtn.setAttribute("disabled","disabled");
}
});


      const InsertData=()=>{
        const idItemToTable = (Customer) => {
        stdNo = 0;
        table.innerHTML = "";
        Customer.forEach((element) => {
          element.id;
          if(element.id==id.value)
          {
            alert("THIS ID IS SFVNKDJ")
          }
        });
      };

      const getAllIdDataOnce = () => {
        const dbRef = ref(db);
        get(child(dbRef, "Custmer")).then((snapshot) => {
          var custmer = [];
          snapshot.forEach((childSnapshot) => {
            custmer.push(childSnapshot.val());
          });
          idItemToTable(custmer);
        });
      };
      window.onload = getAllIdDataOnce;


        set(ref(db,"Custmer/"+id.value),{
            name:fullName.value,
            email:email.value,
            id:id.value,
            Address:address.value,
            job:job.value,
            phone:phone.value
        })

        fullName.value="";
        email.value="";
        id.value="";
        address.value="";
        phone.value="";
        job.value="";
      }
      submitBtn.addEventListener("click",InsertData);



    //   ======================

    // const idItemToTable = (Customer) => {
    //     stdNo = 0;
    //     table.innerHTML = "";
    //     Customer.forEach((element) => {
    //       element.id
    //     });
    //   };

    //   const getAllIdDataOnce = () => {
    //     const dbRef = ref(db);
    //     get(child(dbRef, "Custmer")).then((snapshot) => {
    //       var custmer = [];
    //       snapshot.forEach((childSnapshot) => {
    //         custmer.push(childSnapshot.val());
    //       });
    //       idItemToTable(custmer);
    //     });
    //   };
    //   window.onload = getAllIdDataOnce;
  </script>
</body>
</html>